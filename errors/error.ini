[10:53:07] ERROR: There was an error fetching the list view data for collection tree-branch-nodes
    err: {
      "type": "DrizzleQueryError",
      "message": "Failed query: select \"tree_branch_nodes\".\"id\", \"tree_branch_nodes\".\"title\", \"tree_branch_nodes\".\"updated_at\", \"tree_branch_nodes\".\"created_at\", (select coalesce(json_agg(json_build_object('id',\"mychildren_subquery\".\"id\",'relationTo',\"mychildren_subquery\".\"relationTo\")), '[]'::json) from ((select \"id\",  as \"myparent\", $1 as \"relationTo\", \"created_at\" as \"sortPath\" from \"tree_branch_nodes\") union all (select \"id\", \"myparent_id\" as \"myparent\", $2 as \"relationTo\", \"created_at\" as \"sortPath\" from \"tree_leaf_nodes\") order by \"sortPath\" desc  limit $3) \"mychildren_subquery\" where \"tree_branch_nodes\".\"id\" = \"mychildren_subquery\".\"myparent\") as \"mychildren\", \"tree_branch_nodes__rels\".\"data\" as \"_rels\" from \"tree_branch_nodes\" \"tree_branch_nodes\" left join lateral (select coalesce(json_agg(json_build_array(\"tree_branch_nodes__rels\".\"order\", \"tree_branch_nodes__rels\".\"path\", \"tree_branch_nodes__rels\".\"tree_root_nodes_id\", \"tree_branch_nodes__rels\".\"tree_branch_nodes_id\") order by \"tree_branch_nodes__rels\".\"order\" asc), '[]'::json) as \"data\" from (select * from \"tree_branch_nodes_rels\" \"tree_branch_nodes__rels\" where \"tree_branch_nodes__rels\".\"parent_id\" = \"tree_branch_nodes\".\"id\" order by \"tree_branch_nodes__rels\".\"order\" asc) \"tree_branch_nodes__rels\") \"tree_branch_nodes__rels\" on true order by \"tree_branch_nodes\".\"created_at\" desc limit $4\nparams: tree-branch-nodes,tree-leaf-nodes,11,10: syntax error at or near \"as\"",
      "stack":
          Error: Failed query: select "tree_branch_nodes"."id", "tree_branch_nodes"."title", "tree_branch_nodes"."updated_at", "tree_branch_nodes"."created_at", (select coalesce(json_agg(json_build_object('id',"mychildren_subquery"."id",'relationTo',"mychildren_subquery"."relationTo")), '[]'::json) from ((select "id",  as "myparent", $1 as "relationTo", "created_at" as "sortPath" from "tree_branch_nodes") union all (select "id", "myparent_id" as "myparent", $2 as "relationTo", "created_at" as "sortPath" from "tree_leaf_nodes") order by "sortPath" desc  limit $3) "mychildren_subquery" where "tree_branch_nodes"."id" = "mychildren_subquery"."myparent") as "mychildren", "tree_branch_nodes__rels"."data" as "_rels" from "tree_branch_nodes" "tree_branch_nodes" left join lateral (select coalesce(json_agg(json_build_array("tree_branch_nodes__rels"."order", "tree_branch_nodes__rels"."path", "tree_branch_nodes__rels"."tree_root_nodes_id", "tree_branch_nodes__rels"."tree_branch_nodes_id") order by "tree_branch_nodes__rels"."order" asc), '[]'::json) as "data" from (select * from "tree_branch_nodes_rels" "tree_branch_nodes__rels" where "tree_branch_nodes__rels"."parent_id" = "tree_branch_nodes"."id" order by "tree_branch_nodes__rels"."order" asc) "tree_branch_nodes__rels") "tree_branch_nodes__rels" on true order by "tree_branch_nodes"."created_at" desc limit $4
          params: tree-branch-nodes,tree-leaf-nodes,11,10
              at NodePgPreparedQuery.queryWithCache (file:///Users/chris/payload-tree-relationships/payload-tree-relationships/node_modules/.pnpm/drizzle-orm@0.44.6_@types+pg@8.10.2_pg@8.16.3/node_modules/drizzle-orm/pg-core/session.js:41:15)
              at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
              at async file:///Users/chris/payload-tree-relationships/payload-tree-relationships/node_modules/.pnpm/drizzle-orm@0.44.6_@types+pg@8.10.2_pg@8.16.3/node_modules/drizzle-orm/node-postgres/session.js:117:22
              at async find (file:///Users/chris/payload-tree-relationships/payload-tree-relationships/node_modules/.pnpm/@payloadcms+drizzle@3.63.0_@types+pg@8.10.2_payload@3.63.0_graphql@16.12.0_typescript@5.7.3__pg@8.16.3/node_modules/@payloadcms/drizzle/dist/find/findMany.js:112:21)
              at async findOperation (file:///Users/chris/payload-tree-relationships/payload-tree-relationships/node_modules/.pnpm/payload@3.63.0_graphql@16.12.0_typescript@5.7.3/node_modules/payload/dist/collections/operations/find.js:131:22)
              at async renderListView (webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+next@3.63.0_@types+react@19.1.8_graphql@16.12.0_monaco-editor@0.54.0_next@1_586d12eb154d67305d3c15ed71b4ae01/node_modules/@payloadcms/next/dist/views/List/index.js:212:16)
              at async ListView (webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+next@3.63.0_@types+react@19.1.8_graphql@16.12.0_monaco-editor@0.54.0_next@1_586d12eb154d67305d3c15ed71b4ae01/node_modules/@payloadcms/next/dist/views/List/index.js:352:9)
          caused by: error: syntax error at or near "as"
              at /Users/chris/payload-tree-relationships/payload-tree-relationships/node_modules/.pnpm/pg-pool@3.10.1_pg@8.16.3/node_modules/pg-pool/index.js:45:11
              at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
              at async file:///Users/chris/payload-tree-relationships/payload-tree-relationships/node_modules/.pnpm/drizzle-orm@0.44.6_@types+pg@8.10.2_pg@8.16.3/node_modules/drizzle-orm/node-postgres/session.js:124:18
              at async NodePgPreparedQuery.queryWithCache (file:///Users/chris/payload-tree-relationships/payload-tree-relationships/node_modules/.pnpm/drizzle-orm@0.44.6_@types+pg@8.10.2_pg@8.16.3/node_modules/drizzle-orm/pg-core/session.js:39:16)
              at async file:///Users/chris/payload-tree-relationships/payload-tree-relationships/node_modules/.pnpm/drizzle-orm@0.44.6_@types+pg@8.10.2_pg@8.16.3/node_modules/drizzle-orm/node-postgres/session.js:117:22
              at async find (file:///Users/chris/payload-tree-relationships/payload-tree-relationships/node_modules/.pnpm/@payloadcms+drizzle@3.63.0_@types+pg@8.10.2_payload@3.63.0_graphql@16.12.0_typescript@5.7.3__pg@8.16.3/node_modules/@payloadcms/drizzle/dist/find/findMany.js:112:21)
              at async findOperation (file:///Users/chris/payload-tree-relationships/payload-tree-relationships/node_modules/.pnpm/payload@3.63.0_graphql@16.12.0_typescript@5.7.3/node_modules/payload/dist/collections/operations/find.js:131:22)
              at async renderListView (webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+next@3.63.0_@types+react@19.1.8_graphql@16.12.0_monaco-editor@0.54.0_next@1_586d12eb154d67305d3c15ed71b4ae01/node_modules/@payloadcms/next/dist/views/List/index.js:212:16)
              at async ListView (webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+next@3.63.0_@types+react@19.1.8_graphql@16.12.0_monaco-editor@0.54.0_next@1_586d12eb154d67305d3c15ed71b4ae01/node_modules/@payloadcms/next/dist/views/List/index.js:352:9)
      "query": "select \"tree_branch_nodes\".\"id\", \"tree_branch_nodes\".\"title\", \"tree_branch_nodes\".\"updated_at\", \"tree_branch_nodes\".\"created_at\", (select coalesce(json_agg(json_build_object('id',\"mychildren_subquery\".\"id\",'relationTo',\"mychildren_subquery\".\"relationTo\")), '[]'::json) from ((select \"id\",  as \"myparent\", $1 as \"relationTo\", \"created_at\" as \"sortPath\" from \"tree_branch_nodes\") union all (select \"id\", \"myparent_id\" as \"myparent\", $2 as \"relationTo\", \"created_at\" as \"sortPath\" from \"tree_leaf_nodes\") order by \"sortPath\" desc  limit $3) \"mychildren_subquery\" where \"tree_branch_nodes\".\"id\" = \"mychildren_subquery\".\"myparent\") as \"mychildren\", \"tree_branch_nodes__rels\".\"data\" as \"_rels\" from \"tree_branch_nodes\" \"tree_branch_nodes\" left join lateral (select coalesce(json_agg(json_build_array(\"tree_branch_nodes__rels\".\"order\", \"tree_branch_nodes__rels\".\"path\", \"tree_branch_nodes__rels\".\"tree_root_nodes_id\", \"tree_branch_nodes__rels\".\"tree_branch_nodes_id\") order by \"tree_branch_nodes__rels\".\"order\" asc), '[]'::json) as \"data\" from (select * from \"tree_branch_nodes_rels\" \"tree_branch_nodes__rels\" where \"tree_branch_nodes__rels\".\"parent_id\" = \"tree_branch_nodes\".\"id\" order by \"tree_branch_nodes__rels\".\"order\" asc) \"tree_branch_nodes__rels\") \"tree_branch_nodes__rels\" on true order by \"tree_branch_nodes\".\"created_at\" desc limit $4",
      "params": [
        "tree-branch-nodes",
        "tree-leaf-nodes",
        11,
        10
      ]
    }
[Error: Failed query: select "tree_branch_nodes"."id", "tree_branch_nodes"."title", "tree_branch_nodes"."updated_at", "tree_branch_nodes"."created_at", (select coalesce(json_agg(json_build_object('id',"mychildren_subquery"."id",'relationTo',"mychildren_subquery"."relationTo")), '[]'::json) from ((select "id",  as "myparent", $1 as "relationTo", "created_at" as "sortPath" from "tree_branch_nodes") union all (select "id", "myparent_id" as "myparent", $2 as "relationTo", "created_at" as "sortPath" from "tree_leaf_nodes") order by "sortPath" desc  limit $3) "mychildren_subquery" where "tree_branch_nodes"."id" = "mychildren_subquery"."myparent") as "mychildren", "tree_branch_nodes__rels"."data" as "_rels" from "tree_branch_nodes" "tree_branch_nodes" left join lateral (select coalesce(json_agg(json_build_array("tree_branch_nodes__rels"."order", "tree_branch_nodes__rels"."path", "tree_branch_nodes__rels"."tree_root_nodes_id", "tree_branch_nodes__rels"."tree_branch_nodes_id") order by "tree_branch_nodes__rels"."order" asc), '[]'::json) as "data" from (select * from "tree_branch_nodes_rels" "tree_branch_nodes__rels" where "tree_branch_nodes__rels"."parent_id" = "tree_branch_nodes"."id" order by "tree_branch_nodes__rels"."order" asc) "tree_branch_nodes__rels") "tree_branch_nodes__rels" on true order by "tree_branch_nodes"."created_at" desc limit $4
params: tree-branch-nodes,tree-leaf-nodes,11,10] {
  query: `select "tree_branch_nodes"."id", "tree_branch_nodes"."title", "tree_branch_nodes"."updated_at", "tree_branch_nodes"."created_at", (select coalesce(json_agg(json_build_object('id',"mychildren_subquery"."id",'relationTo',"mychildren_subquery"."relationTo")), '[]'::json) from ((select "id",  as "myparent", $1 as "relationTo", "created_at" as "sortPath" from "tree_branch_nodes") union all (select "id", "myparent_id" as "myparent", $2 as "relationTo", "created_at" as "sortPath" from "tree_leaf_nodes") order by "sortPath" desc  limit $3) "mychildren_subquery" where "tree_branch_nodes"."id" = "mychildren_subquery"."myparent") as "mychildren", "tree_branch_nodes__rels"."data" as "_rels" from "tree_branch_nodes" "tree_branch_nodes" left join lateral (select coalesce(json_agg(json_build_array("tree_branch_nodes__rels"."order", "tree_branch_nodes__rels"."path", "tree_branch_nodes__rels"."tree_root_nodes_id", "tree_branch_nodes__rels"."tree_branch_nodes_id") order by "tree_branch_nodes__rels"."order" asc), '[]'::json) as "data" from (select * from "tree_branch_nodes_rels" "tree_branch_nodes__rels" where "tree_branch_nodes__rels"."parent_id" = "tree_branch_nodes"."id" order by "tree_branch_nodes__rels"."order" asc) "tree_branch_nodes__rels") "tree_branch_nodes__rels" on true order by "tree_branch_nodes"."created_at" desc limit $4`,
  params: [Array],
  [cause]: [error: syntax error at or near "as"] {
    length: 92,
    severity: 'ERROR',
    code: '42601',
    detail: undefined,
    hint: undefined,
    position: '291',
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'scan.l',
    line: '1244',
    routine: 'scanner_yyerror'
  }
}
